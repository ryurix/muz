<script language="JavaScript">

/* Calendar by Ryurik 1.0.3 */

function Calendar(C){function A(f){var g=f.getYear();if(g<1900){g+=1900}return g}Calendar.field=document.getElementById(C);var P=Calendar.field.value;var Z=new Date();var W=Z.getDate();var c=Z.getMonth();var O=A(Z);var T=("0"+P+".0.0").split(new RegExp("[ /,\\.]"));var X=new RegExp("^[^1-9]*");var e=parseInt(T[0].replace(X,""));var H=parseInt(T[1].replace(X,""));var a=parseInt(T[2].replace(X,""));if(e>0&&e<=31){W=e}if(H>0&&H<=12){c=H-1}if(a>1900){O=a}else{if(a>30){O=a+1900}else{if(a>0){O=a+2000}}}Calendar.day=new Date(O,c,W);Calendar.month=new Date(O,c,1);if(Calendar.table){Calendar.table.style.display="block"}else{function d(f){return document.createElement(f)}function b(g,f){g.appendChild(f)}var Y=d("TABLE");Y.id="calendar";Calendar.table=Y;Y.onmouseover=function(){U(true)};Y.onmouseout=function(){U(false)};var B=d("TBODY");b(Y,B);var D=null;var G=null;var J=null;function R(g){var h=Calendar.month;var f=h.getMonth();var i=A(h);switch(g){case ("up"):i+=1;break;case ("down"):i-=1;break;case ("left"):if(f==0){f=11;i-=1}else{f-=1}break;case ("right"):if(f==11){f=0;i+=1}else{f+=1}break}Calendar.month=new Date(i,f,1);L();return false}function Q(g,f){J=d("TD");J.innerHTML=g;J.onclick=function(){R(f)};b(D,J)}D=d("TR");D.className="first";b(B,D);Q("&larr;","left");Q("&darr;","down");G=d("TH");G.colSpan=3;G.innerHTML="Январь 2009";Calendar.head=G;b(D,G);Q("&uarr;","up");Q("&rarr;","right");var F=new Array("Пн","Вт","Ср","Чт","Пт","Сб","Вс");D=d("TR");b(B,D);for(var V=0;V<7;V++){G=d("TH");G.innerHTML=F[V];b(D,G)}Calendar.cells=Array(6);for(var S=0;S<=5;S++){D=d("TR");b(B,D);var I=Array(7);for(var V=0;V<7;V++){J=d("TD");b(D,J);I[V]=J}Calendar.cells[S]=I}var N=document.getElementsByTagName("BODY")[0];b(N,Y)}var M=1;var K=23;var E=Calendar.field;while(E.offsetParent){M+=E.offsetLeft;K+=E.offsetTop;E=E.offsetParent}Calendar.table.style.left=M+E.offsetLeft+"px";Calendar.table.style.top=K+E.offsetTop+"px";function L(){var g=new Array("Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь");var o=Calendar.month;Calendar.head.innerHTML=g[o.getMonth()]+" "+A(o);function u(j,i){return(j.getDate()==i.getDate()&&j.getMonth()==i.getMonth()&&j.getYear()==i.getYear())}function r(i){var j="";if(i.getDate()<10){j+="0"}j+=i.getDate()+".";if(i.getMonth()<9){j+="0"}j=j+(i.getMonth()+1)+"."+A(i);return function(){Calendar.field.value=j;var ev=document.createEvent("HTMLEvents");ev.initEvent("change",false,true);Calendar.field.dispatchEvent(ev);Calendar.table.style.display="none"}}var p=new Date();var n=(o.getDay()+6)%7;var f=1000*60*60;var k=f*24;var q=o.getTime()-(n*k)+f;for(var l=0;l<=5;l++){for(var m=0;m<7;m++){var h=new Date(q);var s=Calendar.cells[l][m];s.innerHTML=h.getDate();s.onclick=r(h);var t="";if(h.getMonth()!=o.getMonth()){t+=" gray"}if(u(h,p)){t+=" today"}if(u(h,Calendar.day)){t+=" here"}s.className=t;q+=k}}}L();function U(f){if(Calendar.timer){clearTimeout(Calendar.timer);Calendar.timer=null}if(!f){Calendar.timer=setTimeout("Calendar.table.style.display = 'none'",2000)}}U(false)};

</script>